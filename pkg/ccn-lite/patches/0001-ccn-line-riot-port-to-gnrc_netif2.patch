From 32d2b19fb1d34d9720d9766d9a5bac6eb1a74a50 Mon Sep 17 00:00:00 2001
From: Martine Lenders <mail@martine-lenders.eu>
Date: Thu, 27 Jul 2017 13:17:35 +0200
Subject: [PATCH] ccn-line-riot: port to gnrc_netif2

---
 src/ccn-lite-riot.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/src/ccn-lite-riot.c b/src/ccn-lite-riot.c
index 3b8db4d..c41d6a8 100644
--- a/src/ccn-lite-riot.c
+++ b/src/ccn-lite-riot.c
@@ -34,7 +34,11 @@
 #include "timex.h"
 #include "xtimer.h"
 #include "net/gnrc/netreg.h"
+#ifdef MODULE_GNRC_NETIF2
+#include "net/gnrc/netif2.h"
+#else
 #include "net/gnrc/netif.h"
+#endif
 #include "net/gnrc/netif/hdr.h"
 #include "net/gnrc/netapi.h"
 #include "net/packet.h"
@@ -228,9 +232,15 @@ int
 ccnl_open_netif(kernel_pid_t if_pid, gnrc_nettype_t netreg_type)
 {
     assert(pid_is_valid(if_pid));
+#ifdef MODULE_GNRC_NETIF2
+    if (gnrc_netif2_get_by_pid(if_pid) == NULL) {
+        return -1;
+    }
+#else
     if (!gnrc_netif_exist(if_pid)) {
         return -1;
     }
+#endif
     if (ccnl_relay.ifcount >= CCNL_MAX_INTERFACES) {
         DEBUGMSG(WARNING, "cannot open more than %u interfaces for CCN-Lite\n",
                  (unsigned) CCNL_MAX_INTERFACES);
-- 
2.7.4

