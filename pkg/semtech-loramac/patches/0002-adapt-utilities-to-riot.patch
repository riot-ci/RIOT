From 99f79db3f1ef03993cbcb0a5f5a2078fcae19ed4 Mon Sep 17 00:00:00 2001
From: Alexandre Abadie <alexandre.abadie@inria.fr>
Date: Sun, 1 Apr 2018 20:00:51 +0200
Subject: [PATCH] adapt utilities to RIOT

---
 src/boards/mcu/utilities.c | 32 ++++++--------------------------
 1 file changed, 6 insertions(+), 26 deletions(-)

diff --git a/src/boards/mcu/utilities.c b/src/boards/mcu/utilities.c
index d32d573..00d2771 100644
--- a/src/boards/mcu/utilities.c
+++ b/src/boards/mcu/utilities.c
@@ -22,7 +22,9 @@
  */
 #include <stdlib.h>
 #include <stdio.h>
+#include <string.h>
 #include "utilities.h"
+#include "random.h"
 
 /*!
  * Redefinition of rand() and srand() standard C functions.
@@ -41,21 +43,18 @@ int32_t rand1( void )
 
 void srand1( uint32_t seed )
 {
-    next = seed;
+    (void) seed;
 }
 // Standard random functions redefinition end
 
 int32_t randr( int32_t min, int32_t max )
 {
-    return ( int32_t )rand1( ) % ( max - min + 1 ) + min;
+    return random_uint32_range(min, max + 1);
 }
 
 void memcpy1( uint8_t *dst, const uint8_t *src, uint16_t size )
 {
-    while( size-- )
-    {
-        *dst++ = *src++;
-    }
+     memcpy(dst, src, size);
 }
 
 void memcpyr( uint8_t *dst, const uint8_t *src, uint16_t size )
@@ -69,24 +68,5 @@ void memcpyr( uint8_t *dst, const uint8_t *src, uint16_t size )
 
 void memset1( uint8_t *dst, uint8_t value, uint16_t size )
 {
-    while( size-- )
-    {
-        *dst++ = value;
-    }
-}
-
-int8_t Nibble2HexChar( uint8_t a )
-{
-    if( a < 10 )
-    {
-        return '0' + a;
-    }
-    else if( a < 16 )
-    {
-        return 'A' + ( a - 10 );
-    }
-    else
-    {
-        return '?';
-    }
+    memset(dst, value, size);
 }
-- 
2.14.1

