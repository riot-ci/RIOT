From a0e94f07ccf9c90ca49a905adc925b4ebfd8f0eb Mon Sep 17 00:00:00 2001
From: Hauke Petersen <hauke.petersen@fu-berlin.de>
Date: Fri, 15 Dec 2017 12:58:36 +0100
Subject: [PATCH 1/2] adapt Makefiles

---
 Makefile            | 22 ++--------------------
 lib/source/Makefile |  3 +++
 2 files changed, 5 insertions(+), 20 deletions(-)
 create mode 100644 lib/source/Makefile

diff --git a/Makefile b/Makefile
index 3c0e42b..1bce5ba 100644
--- a/Makefile
+++ b/Makefile
@@ -1,21 +1,3 @@
-################################################################################
-#
-#      Copyright (C) 2017 by Intel Corporation, All Rights Reserved.
-#
-# 								           Global Makefile. 
-#	  		See lib/Makefile and tests/Makefile for further configuration.
-#
-################################################################################
-include config.mk
-
-all:
-	$(MAKE) -C lib
-ifeq ($(ENABLE_TESTS),true)
-	$(MAKE) -C tests
-endif
-
-clean:
-	$(MAKE) -C lib clean
-	$(MAKE) -C tests clean
-	$(RM) *~
+DIRS += $(PKGDIRBASE)/tinycrypt/lib/source
 
+include $(RIOTBASE)/Makefile.base
diff --git a/lib/source/Makefile b/lib/source/Makefile
new file mode 100644
index 0000000..0d2f0c5
--- /dev/null
+++ b/lib/source/Makefile
@@ -0,0 +1,3 @@
+MODULE = tinycrypt
+
+include $(RIOTBASE)/Makefile.base
-- 
1.9.1

