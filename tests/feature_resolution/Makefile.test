include ../../makefiles/features_check.inc.mk

ifneq ($(EXPECTED_FEATURES_USED),$(FEATURES_USED))
  $(info EXPECTED_FEATURES_USED = $(EXPECTED_FEATURES_USED))
  $(info FEATURES_USED = $(FEATURES_USED))
  $(error FEATURES_USED incorrectly resolved)
endif

ifneq ($(EXPECTED_FEATURES_MISSING),$(FEATURES_MISSING))
  $(info EXPECTED_FEATURES_MISSING = $(EXPECTED_FEATURES_MISSING))
  $(info FEATURES_MISSING = $(FEATURES_MISSING))
  $(error FEATURES_MISSING incorrectly resolved)
endif

ifneq ($(EXPECTED_FEATURES_USED_BLACKLISTED),$(FEATURES_USED_BLACKLISTED))
  $(info EXPECTED_FEATURES_USED_BLACKLISTED = $(EXPECTED_FEATURES_USED_BLACKLISTED))
  $(info FEATURES_USED_BLACKLISTED = $(FEATURES_USED_BLACKLISTED))
  $(error FEATURES_USED_BLACKLISTED incorrectly resolved)
endif

ifneq ($(EXPECTED_FEATURES_CONFLICTING),$(FEATURES_CONFLICTING))
  $(info EXPECTED_FEATURES_CONFLICTING = $(EXPECTED_FEATURES_CONFLICTING))
  $(info FEATURES_CONFLICTING = $(FEATURES_CONFLICTING))
  $(error FEATURES_CONFLICTING incorrectly resolved)
endif

.PHONY: all
all:
	@echo Success
